version: '3'
services:
    frontend:
        image: nginx
        restart: unless-stopped
        volumes:
            - ./nginx.conf:/etc/nginx/conf.d/default.conf:ro
        depends_on:
            - backend
        ports:
            - "8000:80"
    backend:
        build:
            context: .
        volumes:
            # Files for Digital Editions need to be mounted
            # Syntax is host_path:container_path
            # This example mounts the host's /var/files/topelius to /var/topelius-files in the container and so on
            #- /var/files/topelius:/var/topelius-files/
            #- /var/files/parland:/var/parland-files/
            #- /var/files/xslt:/var/xslt-files/
            #- D:\Development\generic\vonWright\required_files:/var/topelius

            # Config files need to be mounted aswell
            - ./sls_api/configs:/app/sls_api/configs
        restart: unless-stopped
